<!DOCTYPE html>
   <head>
      <title>KnockoutJS Simple Example</title>
      <script src = "knockout-3.5.1.js"  type = "text/javascript"></script>
      <script src = "jquery-3.4.1.min.js"  type = "text/javascript"></script>
      <script src = "bootstrap/bootstrap.min.js"  type = "text/javascript"></script>

      <link rel="stylesheet" type="text/css" href="bootstrap/bootstrap.min.css">
      
   </head>



   <body>

    <div class="container">
      <h3>Using Arrays - foreach - Bootstrap </h3>

      <div class="row">
        <div class="col col-lg-6 col-md-6 col-sm-6 offset-lg-2 offset-md-2 offset-sm-2">
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th>Name</th>
                <th>Age</th>
                <th>Occupation</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody data-bind="foreach: contacts">
              <tr>
                <td data-bind="text:name"></td>
                <td data-bind="text:age"></td>
                <td data-bind="text:occupation"></td>
                <td>
                  <a class="btn btn-xs btn-primary">Edit</a>
                  <a class="btn btn-xs btn-danger" data-bind="click:$parent.deleteContact">Delete</a>
                </td>

              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>


      

      <script type="text/javascript">



         function AppViewModel() 
         {
           var self =this;
            self.contacts = ko.observableArray([
              {name: 'Alice',age: 55, occupation: 'Teacher'},
              {name: 'Bob',age: 45, occupation: 'Carpenter'},
              {name: 'Catherine',age: 65, occupation: 'Baker'},
              {name: 'David',age: 35, occupation: 'Driver'}
            ]);

            self.deleteContact = function(){
              alert("deleting "+ this.name)
              self.contacts.remove(this);
              alert("going to serialise after deletion")
              alert(ko.toJSON(self))
              alert(ko.toJSON(self.contacts))
            }
         }


         var model = new AppViewModel();
         ko.applyBindings(model);

         
      </script>

   </body>


</html>